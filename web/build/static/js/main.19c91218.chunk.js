(this["webpackJsonpsmartswitch-web"]=this["webpackJsonpsmartswitch-web"]||[]).push([[0],{107:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(13),i=a.n(s),r=a(93),l=a(14),o=a(27),j=a(5),u=["highway","urban","combined"],d={limit:15,rule:/^[a-zA-Z0-9]*$/,text:"Up to 15 Letters and Numbers"},b={rule:/[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+/,text:"Must be a valid email"},h={limit:20,text:"Up to 20 Any Characters"},m=(a(107),a(152)),O=a(158),x=a(161),v=a(63),p=a.n(v),f=a(64),g=a.n(f),N=a(31),S=a.n(N),w=a(61),y=a.n(w),C=a(62),k=a.n(C),I=a(44),T=a.n(I),A=a(36),P=a.n(A),_=a(45),D=a.n(_),L=a(60),M=a.n(L),U=a(46),z=a.n(U),B=a(47),J=a.n(B),q=a(91),E=a.n(q),H=a(90),K=a.n(H),R=a(89),$=a.n(R),V=a(43),Z=a.n(V),W=a(88),F=a.n(W),G=a(87),Y=a.n(G),Q=a(86),X=a.n(Q),ee=a(82),te=a.n(ee),ae=a(48),ne=a.n(ae),ce=function(){return fetch("http://35.224.217.59:3001/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:sessionStorage.getItem("user"),refreshToken:sessionStorage.getItem("refreshToken")})}).then((function(e){return e.json()}))},se=a(1);var ie=Object(l.h)((function(){var e,t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)("Waterloo"),r=Object(j.a)(i,2),o=(r[0],r[1]),u=Object(n.useState)(0),b=Object(j.a)(u,2),h=b[0],v=b[1],f=Object(n.useState)(!1),N=Object(j.a)(f,2),w=(N[0],N[1]),C=Object(n.useState)(he()),I=Object(j.a)(C,2),A=I[0],_=I[1],L=Object(n.useState)(!1),U=Object(j.a)(L,2),B=U[0],q=U[1],H=Object(n.useState)([]),R=Object(j.a)(H,2),V=R[0],W=R[1],G=Object(n.useState)([]),Q=Object(j.a)(G,2),ee=Q[0],ae=Q[1],ie=Object(n.useState)([]),re=Object(j.a)(ie,2),le=(re[0],re[1]),oe=Object(n.useState)(!1),je=Object(j.a)(oe,2),ue=(je[0],je[1]),de=Object(l.g)();function be(e){var t=new Date(e);return t=new Date(t.setMinutes(t.getMinutes()+(new Date).getTimezoneOffset())),new Date>=t?"N/A":t.toLocaleDateString("en-US",{month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}function he(){return(new Date).toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}function me(e){return e.isCharging?100===e.soc?Object(se.jsx)(te.a,{}):e.soc>=80?Object(se.jsx)(X.a,{}):e.soc>=50?Object(se.jsx)(Y.a,{}):Object(se.jsx)(F.a,{}):100===e.soc?Object(se.jsx)(Z.a,{}):e.soc>=80?Object(se.jsx)($.a,{}):e.soc>=50?Object(se.jsx)(K.a,{}):Object(se.jsx)(E.a,{})}function Oe(e){var t="";e.isDoneCharging&&(t="charged");var a=e.soc+"%";return e.soc||0===e.soc||(a="N/A",t=""),Object(se.jsx)("div",{className:"vehicle_text soc "+t,children:a})}function xe(e){if(0===ee.length)return"";var t=ee.find((function(t){return t.id===e.modelID}));return t.brand+" "+t.model}function ve(e){fetch("http://35.224.217.59:3001/delete",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({username:sessionStorage.getItem("user"),vehicleID:e.id,portID:e.portID})}).then((function(e){return e.json()})).then((function(e){e.success?q(!B):e.invalidToken?ce().then((function(e){if(!e.success)throw"";sessionStorage.setItem("token",e.token),ve()})).catch((function(e){de.push("/")})):ue(!0)})).catch((function(e){ue(!0)}))}return Object(n.useEffect)((function(){fetch("http://35.224.217.59:3001/vehicles",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){e.success?(W(e.data.vehicleList),ae(e.data.modelList)):e.invalidToken?ce().then((function(e){if(!e.success)throw"";sessionStorage.setItem("token",e.token),q(!B)})).catch((function(e){de.push("/")})):ue(!0)})).catch((function(e){ue(!0)}))}),[B]),Object(n.useEffect)((function(){fetch("http://35.224.217.59:3001/location",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({username:sessionStorage.getItem("user")})}).then((function(e){return e.json()})).then((function(e){e.success?(le(e.data),o(e.data.find((function(e){return e.id===h})))):e.invalidToken?ce().then((function(e){if(!e.success)throw"";sessionStorage.setItem("token",e.token),q(!B)})).catch((function(e){de.push("/")})):ue(!0)})).catch((function(e){console.log(e),ue(!0)}))}),[B]),Object(n.useEffect)((function(){fetch("http://35.224.217.59:3001/configInfo",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({username:sessionStorage.getItem("user")})}).then((function(e){return e.json()})).then((function(e){if(e.success){var t=e.data.find((function(e){return"location"===e.type}));v(t.value);var a=e.data.find((function(e){return"eco"===e.type}));w(0!==a.value)}else e.invalidToken?ce().then((function(e){if(!e.success)throw"";sessionStorage.setItem("token",e.token),q(!B)})).catch((function(e){de.push("/")})):ue(!0)})).catch((function(e){ue(!0)}))}),[B]),Object(se.jsxs)("div",{className:"Home",children:[Object(se.jsx)("div",{className:"title",children:"SmartSwitch"}),Object(se.jsx)("div",{className:"time",children:(setInterval((function(){_(he())}),6e4),A.split(","),Object(se.jsx)("div",{children:A}))}),Object(se.jsxs)("div",{className:"utility-home",children:[Object(se.jsx)("div",{className:"search_time",children:Object(se.jsx)("div",{className:"search",children:Object(se.jsx)(O.a,{className:"vehicle-search",label:"Search",onChange:function(e){return s(e.target.value)},InputProps:{startAdornment:Object(se.jsx)(x.a,{position:"start",children:Object(se.jsx)(p.a,{})}),maxLength:d.limit}})})}),Object(se.jsx)("div",{className:"user-info",children:Object(se.jsx)(m.a,{onClick:function(){return de.push("/user")},children:Object(se.jsx)(S.a,{})})}),Object(se.jsx)("div",{className:"add-vehicle",children:Object(se.jsx)(m.a,{onClick:function(){de.push({pathname:"/add",state:ee})},children:Object(se.jsx)(g.a,{})})})]}),Object(se.jsxs)("div",{className:"lists",children:[Object(se.jsx)("div",{className:"vehicle_ list_label"}),(e=V,e.filter((function(e){var t=c.toLowerCase(),a=xe(e);return e.name.toLowerCase().includes(t)||a.toLowerCase().includes(t)}))).map((function(e,t){return Object(se.jsxs)("div",{className:"vehicle_ "+t,children:[Object(se.jsxs)("div",{className:"vehicle_name_soc vehicle_entry",children:[Object(se.jsxs)("div",{className:"vehicle_name",children:[Object(se.jsx)(T.a,{}),Object(se.jsx)("div",{className:"vehicle_text",children:e.name})]}),Object(se.jsxs)("div",{children:[Object(se.jsx)(D.a,{}),Object(se.jsx)("div",{className:"vehicle_text soc portID",children:e.portID||0===e.portID?e.portID:"N/A"}),me(e),Oe(e)]})]}),Object(se.jsxs)("div",{className:"vehicle_brand vehicle_entry",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)("div",{className:"vehicle_text",children:xe(e)})]}),Object(se.jsxs)("div",{className:"vehicle_detail vehicle_entry",children:[Object(se.jsx)(M.a,{}),Object(se.jsx)("div",{className:"vehicle_text",children:"Departure: "+be(e.departure)})]}),Object(se.jsxs)("div",{className:"vehicle_detail vehicle_entry",children:[Object(se.jsx)(z.a,{}),Object(se.jsx)("div",{className:"vehicle_text",children:"Distance: "+e.distance+" KM"})]}),Object(se.jsxs)("div",{className:"vehicle_detail vehicle_entry",children:[Object(se.jsx)(J.a,{}),Object(se.jsx)("div",{className:"vehicle_text",children:"Route: "+e.route})]}),Object(se.jsxs)("div",{className:"vehicle_detail vehicle_entry",children:[Object(se.jsx)(ne.a,{}),Object(se.jsx)("div",{className:"vehicle_text",children:"Importance: "+(e.ranking<4&&e.ranking>=0&&null!==e.ranking?e.ranking:"N/A")})]}),Object(se.jsxs)("div",{className:"vehicle_actions",children:[Object(se.jsx)(m.a,{children:Object(se.jsx)(y.a,{onClick:function(){return function(e){de.push({pathname:"/modify",state:{vehicle:e,modelList:ee}})}(e)}})}),Object(se.jsx)(m.a,{children:Object(se.jsx)(k.a,{onClick:function(){return ve(e)}})})]})]},t)}))]})]})})),re=(a(115),a(155)),le=a(160),oe=a(157),je=a(162),ue=a(33),de=a.n(ue),be=a(34),he=a.n(be),me=a(69),Oe=a.n(me);a(79);var xe=Object(l.h)((function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),r=i[0],o=i[1],b=Object(n.useState)(""),h=Object(j.a)(b,2),x=h[0],v=h[1],p=Object(n.useState)(""),f=Object(j.a)(p,2),g=f[0],N=f[1],S=Object(n.useState)(1),w=Object(j.a)(S,2),y=w[0],C=w[1],k=Object(n.useState)(0),I=Object(j.a)(k,2),A=I[0],_=I[1],L=Object(n.useState)(ge()),M=Object(j.a)(L,2),U=M[0],B=M[1],q=Object(n.useState)(!1),E=Object(j.a)(q,2),H=(E[0],E[1]),K=Object(n.useState)(!1),R=Object(j.a)(K,2),$=(R[0],R[1],Object(n.useState)(0)),V=Object(j.a)($,2),W=V[0],F=V[1],G=Object(n.useState)(1),Y=Object(j.a)(G,2),Q=Y[0],X=Y[1],ee=Object(n.useState)(!1),te=Object(j.a)(ee,2),ae=te[0],ie=te[1],ue=Object(n.useState)(!1),be=Object(j.a)(ue,2),me=be[0],xe=be[1],ve=Object(l.g)(),pe=ve.location.state,fe=Array.from(new Set(pe.map((function(e){return e.brand}))));function ge(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0".concat(a):a;var n=e.getDate();n=n<10?"0".concat(n):n;var c=e.getHours()+1;c=c<10?"0".concat(c):c;var s=e.getMinutes();return s=s<10?"0".concat(s):s,"".concat(t,"-").concat(a,"-").concat(n,"T").concat(c,":").concat(s)}function Ne(){return pe.find((function(e){return e.brand===r&&e.model===x}))}function Se(){if(0===pe.length||""===r||""===x||""===g)return 0;var e=Ne();return"urban"===g?e.consumptionCityCold:"combined"===g?e.consumptionCombCold:e.consumptionHighwayCold}return Object(se.jsxs)("div",{className:"Add",children:[Object(se.jsx)("div",{className:"title",children:"SmartSwitch"}),Object(se.jsxs)("div",{className:"menu-bar-add",children:[Object(se.jsx)("div",{className:"go-back",children:Object(se.jsx)(m.a,{onClick:function(){return ve.push("/home")},children:Object(se.jsx)(de.a,{})})}),Object(se.jsx)("div",{className:"utility",children:Object(se.jsx)(m.a,{onClick:function e(){var t=U.split("T");fetch("http://35.224.217.59:3001/add",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({username:sessionStorage.getItem("user"),vehicle:{name:a,modelID:Ne().id,departure:"".concat(t[0]," ").concat(t[1],":00"),distance:y,route:g,portID:A,startingSoc:Q,ranking:W}})}).then((function(e){return e.json()})).then((function(t){t.success?ve.push("/home"):t.invalidToken?ce().then((function(t){if(!t.success)throw"";sessionStorage.setItem("token",t.token),e()})).catch((function(e){ve.push("/")})):H(!0)})).catch((function(e){H(!0)}))},disabled:""===a||!a.match(d.rule)||""===r||""===x||""===g||me||ae,children:Object(se.jsx)(he.a,{})})})]}),Object(se.jsxs)("div",{className:"inputfield",children:[Object(se.jsxs)("div",{className:"input name",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(T.a,{})}),Object(se.jsx)(O.a,{className:"textfield-name inputAll",label:"Name",variant:"outlined",onChange:function(e){return c(e.target.value)},inputProps:{maxLength:d.limit},helperText:d.text,error:!a.match(d.rule)})]}),Object(se.jsxs)("div",{className:"input",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(P.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"brand",children:[Object(se.jsx)(le.a,{id:"select-brand-label",children:"Brand"}),Object(se.jsx)(oe.a,{label:"brand",value:r,onChange:function(e){o(e.target.value),v("")},className:"select-brand inputAll",labelId:"Brand",children:fe.map((function(e){return Object(se.jsx)(je.a,{value:e,children:e})}))})]})]}),Object(se.jsxs)("div",{className:"input",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(P.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"model",disabled:""===r,children:[Object(se.jsx)(le.a,{id:"select-model-label",children:"Model"}),Object(se.jsx)(oe.a,{label:"model",value:x,onChange:function(e){return v(e.target.value)},className:"select-model inputAll",labelId:"Model",children:pe.filter((function(e){return e.brand===r})).map((function(e){return Object(se.jsx)(je.a,{value:e.model,children:e.model})}))})]})]}),Object(se.jsxs)("div",{className:"input",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(J.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"route",children:[Object(se.jsx)(le.a,{id:"select-model-label",children:"Route"}),Object(se.jsx)(oe.a,{label:"route",value:g,onChange:function(e){return N(e.target.value)},className:"select-model inputAll",labelId:"Route",children:u.map((function(e){return Object(se.jsx)(je.a,{value:e,children:e})}))})]})]}),Object(se.jsxs)("div",{className:"input distance",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(z.a,{})}),Object(se.jsx)(O.a,{className:"textfield-distance inputAll",label:"Distance (KM)",variant:"outlined",type:"number",disabled:""===r||""===x||""===g,onChange:function(e){return function(e){var t=e.target.value;if(null===t.match(/^[1-9][0-9]*$/))xe(!0),C(t);else{xe(!1);var a=parseInt(e.target.value,10);C(Math.min(a,Se()))}}(e)},error:me,value:y,helperText:""===r||""===x||""===g?"Please select vehicle info first":"Maximum: "+Se()+"KM"})]}),Object(se.jsxs)("div",{className:"input port",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(D.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"port",children:[Object(se.jsx)(le.a,{id:"select-port-label",children:"Port"}),Object(se.jsxs)(oe.a,{label:"port",value:A,onChange:function(e){return _(e.target.value)},className:"select-port inputAll",labelId:"Port",children:[Object(se.jsx)(je.a,{value:0,children:"0"}),Object(se.jsx)(je.a,{value:1,children:"1"}),Object(se.jsx)(je.a,{value:2,children:"2"}),Object(se.jsx)(je.a,{value:3,children:"3"})]})]})]}),Object(se.jsxs)("div",{className:"input importance",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(ne.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"importance",children:[Object(se.jsx)(le.a,{id:"select-importance-label",children:"Importance"}),Object(se.jsxs)(oe.a,{label:"importance",value:W,onChange:function(e){return F(e.target.value)},className:"select-importance inputAll",labelId:"Importance",children:[Object(se.jsx)(je.a,{value:0,children:"0 (High)"}),Object(se.jsx)(je.a,{value:1,children:"1"}),Object(se.jsx)(je.a,{value:2,children:"2"}),Object(se.jsx)(je.a,{value:3,children:"3 (Low)"})]})]})]}),Object(se.jsxs)("div",{className:"input startingSoc",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Z.a,{})}),Object(se.jsx)(O.a,{className:"textfield-startingSoc inputAll",label:"Starting Soc",variant:"outlined",type:"number",error:ae,onChange:function(e){return function(e){if(null===e.match(/^[1-9][0-9]*$/))ie(!0),X(e);else{ie(!1);var t=parseInt(e,10);X(Math.min(t,100))}}(e.target.value)},value:Q,helperText:"Maximum: 100%"})]}),Object(se.jsxs)("div",{className:"input date",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Oe.a,{})}),Object(se.jsx)(O.a,{className:"textfield-time inputAll",label:"Time of Travel",variant:"outlined",type:"datetime-local",defaultValue:U,inputProps:{min:ge()},onChange:function(e){return B(e.target.value)}})]})]})]})})),ve=(a(116),a(156)),pe=a.p+"static/media/logo.841f8bbf.jpeg";var fe=Object(l.h)((function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),r=i[0],o=i[1],u=Object(n.useState)(!1),b=Object(j.a)(u,2),m=b[0],x=b[1],v=Object(l.g)();return sessionStorage.clear(),Object(se.jsxs)("div",{className:"Login",children:[Object(se.jsx)("div",{className:"logo-wrapper",children:Object(se.jsx)("img",{src:pe,className:"logo"})}),Object(se.jsx)("div",{className:"login_title",children:"SmartSwitch"}),Object(se.jsx)("div",{className:"headline",children:"A global-leading technology for smart vehicle charging"}),Object(se.jsxs)("div",{className:"inputfield-login",children:[Object(se.jsx)("div",{className:"input-login account",children:Object(se.jsx)(O.a,{className:"textfield-account inputAll-login",label:"User Name",onChange:function(e){return t=e.target.value,m&&x(!1),void o(t);var t},inputProps:{maxLength:d.limit},error:m})}),Object(se.jsx)("div",{className:"input-login password",children:Object(se.jsx)(O.a,{className:"textfield-password inputAll-login",label:"Password",onChange:function(e){return t=e.target.value,m&&x(!1),void c(t);var t},inputProps:{maxLength:h.limit},error:m,type:"password"})}),Object(se.jsx)("div",{className:"login-button-wrapper",children:Object(se.jsx)(ve.a,{variant:"contained",onClick:function(){fetch("http://35.224.217.59:3001/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:a})}).then((function(e){if(e.ok)return e.json();throw""})).then((function(e){e.success?(sessionStorage.setItem("user",e.username),sessionStorage.setItem("token",e.token),sessionStorage.setItem("refreshToken",e.refreshToken),v.push("/home")):x(!0)})).catch((function(e){x(!0)}))},disabled:0===a.length||!r.match(d.rule),className:0!==a.length&&r.match(d.rule)?"login-button background-color-button":"login-button",children:"Login"})}),Object(se.jsxs)("div",{className:"register-wrapper",children:[Object(se.jsx)("div",{className:"no-account",children:"Don't have an account?"}),Object(se.jsx)("div",{className:"register-button-wrapper",children:Object(se.jsx)(ve.a,{variant:"contained",onClick:function(){v.push("/register")},children:"SIGN UP"})})]})]})]})})),ge=(a(80),a(40)),Ne=a.n(ge);var Se=Object(l.h)((function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),r=i[0],o=i[1],u=Object(n.useState)(""),d=Object(j.a)(u,2),b=d[0],x=d[1],v=Object(n.useState)(!1),p=Object(j.a)(v,2),f=p[0],g=p[1],N=Object(l.g)();return Object(se.jsxs)("div",{className:"Add",children:[Object(se.jsx)("div",{className:"title",children:"SmartSwitch"}),Object(se.jsxs)("div",{className:"menu-bar-add",children:[Object(se.jsx)("div",{className:"go-back",children:Object(se.jsx)(m.a,{onClick:function(){return N.push("/home")},children:Object(se.jsx)(de.a,{})})}),Object(se.jsx)("div",{className:"utility",children:Object(se.jsx)(m.a,{onClick:function e(){fetch("http://35.224.217.59:3001/changePassword",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({username:sessionStorage.getItem("user"),old_password:a,new_password:r})}).then((function(e){return e.json()})).then((function(t){if(t.success)N.push("/home");else{if(!t.invalidToken)throw"";ce().then((function(t){if(!t.success)throw"";sessionStorage.setItem("token",t.token),e()})).catch((function(e){N.push("/")}))}})).catch((function(e){g(!0)}))},disabled:r!==b||0===r.length||0===a.length,children:Object(se.jsx)(he.a,{})})})]}),Object(se.jsxs)("div",{className:"inputfield",children:[Object(se.jsxs)("div",{className:"input_user user",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(S.a,{})}),Object(se.jsx)(O.a,{className:"textfield-user inputAll",defaultValue:sessionStorage.getItem("user"),label:"Username",variant:"outlined",disabled:!0})]}),Object(se.jsxs)("div",{className:"input_user password",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Ne.a,{})}),Object(se.jsx)(O.a,{className:"textfield-password inputAll",variant:"outlined",label:"Current Password",type:"password",required:!0,onChange:function(e){return t=e.target.value,f&&g(!1),void c(t);var t},inputProps:{maxLength:h.limit},helperText:h.text})]}),Object(se.jsxs)("div",{className:"input_user new-password",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Ne.a,{})}),Object(se.jsx)(O.a,{className:"textfield-new-password inputAll",variant:"outlined",label:"New Password",type:"password",required:!0,onChange:function(e){return t=e.target.value,f&&g(!1),void o(t);var t},inputProps:{maxLength:h.limit},helperText:h.text})]}),Object(se.jsxs)("div",{className:"input_user new-dulplicate-password",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Ne.a,{})}),Object(se.jsx)(O.a,{className:"textfield-dul-password inputAll",variant:"outlined",label:"Confirm Password",required:!0,type:"password",onChange:function(e){return t=e.target.value,f&&g(!1),void x(t);var t},error:r!==b,helperText:r!==b?"Unmatched Password":"",inputProps:{maxLength:h.limit}})]}),Object(se.jsx)("div",{className:"input_user warning",children:f?"Something is Wrong, Please Try Again":""})]})]})})),we=a(92),ye=a.n(we);var Ce=Object(l.h)((function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),r=i[0],o=i[1],u=Object(n.useState)(""),x=Object(j.a)(u,2),v=x[0],p=x[1],f=Object(n.useState)(""),g=Object(j.a)(f,2),N=g[0],w=g[1],y=Object(n.useState)(!1),C=Object(j.a)(y,2),k=C[0],I=C[1],T=Object(l.g)();return sessionStorage.clear(),Object(se.jsxs)("div",{className:"Add",children:[Object(se.jsx)("div",{className:"title",children:"SmartSwitch"}),Object(se.jsxs)("div",{className:"menu-bar-add",children:[Object(se.jsx)("div",{className:"go-back",children:Object(se.jsx)(m.a,{onClick:function(){return T.push("/login")},children:Object(se.jsx)(de.a,{})})}),Object(se.jsx)("div",{className:"utility",children:Object(se.jsx)(m.a,{onClick:function(){fetch("http://35.224.217.59:3001/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:v})}).then((function(e){return e.json()})).then((function(e){e.success?T.push("/login"):I(!0)})).catch((function(e){I(!0)}))},disabled:v!==N||!a.match(b.rule)||""===r||0===v.length||!r.match(d.rule),children:Object(se.jsx)(he.a,{})})})]}),Object(se.jsxs)("div",{className:"inputfield",children:[Object(se.jsxs)("div",{className:"input_user user",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(S.a,{})}),Object(se.jsx)(O.a,{className:"textfield-user inputAll",defaultValue:"",label:"Username",variant:"outlined",required:!0,onChange:function(e){return t=e.target.value,k&&I(!1),void o(t);var t},inputProps:{maxLength:d.limit},helperText:d.text,error:!r.match(d.rule)})]}),Object(se.jsxs)("div",{className:"input_user password",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(ye.a,{})}),Object(se.jsx)(O.a,{className:"textfield-password inputAll",variant:"outlined",label:"Email",type:"email",required:!0,onChange:function(e){return t=e.target.value,k&&I(!1),void c(t);var t},helperText:b.text})]}),Object(se.jsxs)("div",{className:"input_user new-password",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Ne.a,{})}),Object(se.jsx)(O.a,{className:"textfield-new-password inputAll",variant:"outlined",label:"New Password",type:"password",required:!0,onChange:function(e){return t=e.target.value,k&&I(!1),void p(t);var t},inputProps:{maxLength:h.limit},helperText:h.text})]}),Object(se.jsxs)("div",{className:"input_user new-dulplicate-password",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Ne.a,{})}),Object(se.jsx)(O.a,{className:"textfield-dul-password inputAll",variant:"outlined",label:"Confirm Password",required:!0,type:"password",onChange:function(e){return t=e.target.value,k&&I(!1),void w(t);var t},error:v!==N,helperText:v!==N?"Unmatched Password":"",inputProps:{maxLength:h.limit}})]}),Object(se.jsx)("div",{className:"input_user warning",children:k?"Something is Wrong, Please Try Again":""})]})]})}));a(117);var ke=Object(l.h)((function(){var e=Object(l.g)(),t=e.location.state.modelList,a=e.location.state.vehicle,c=Array.from(new Set(t.map((function(e){return e.brand})))),s=t.find((function(e){return e.id===a.modelID})),i=Object(n.useState)(a.name),r=Object(j.a)(i,2),o=r[0],b=r[1],h=Object(n.useState)(s.brand),x=Object(j.a)(h,2),v=x[0],p=x[1],f=Object(n.useState)(s.model),g=Object(j.a)(f,2),N=g[0],S=g[1],w=Object(n.useState)(a.route),y=Object(j.a)(w,2),C=y[0],k=y[1],I=Object(n.useState)(a.distance),A=Object(j.a)(I,2),_=A[0],L=A[1],M=Object(n.useState)(a.portID),U=Object(j.a)(M,2),B=U[0],q=U[1],E=Object(n.useState)(ge(!0,a.departure)),H=Object(j.a)(E,2),K=H[0],R=H[1],$=Object(n.useState)(!1),V=Object(j.a)($,2),W=(V[0],V[1]),F=Object(n.useState)(a.ranking),G=Object(j.a)(F,2),Y=G[0],Q=G[1],X=Object(n.useState)(a.soc),ee=Object(j.a)(X,2),te=ee[0],ae=ee[1],ie=Object(n.useState)(!1),ue=Object(j.a)(ie,2),be=ue[0],me=ue[1],xe=Object(n.useState)(!1),ve=Object(j.a)(xe,2),pe=ve[0],fe=ve[1];function ge(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Date;if(e){var c=new Date(t);c<n?a=!0:n=c}var s=n.getFullYear(),i=n.getMonth()+1;i=i<10?"0".concat(i):i;var r=n.getDate();r=r<10?"0".concat(r):r;var l=n.getHours()+(a?1:0);l=l<10?"0".concat(l):l;var o=n.getMinutes();return o=o<10?"0".concat(o):o,"".concat(s,"-").concat(i,"-").concat(r,"T").concat(l,":").concat(o)}function Ne(){return t.find((function(e){return e.brand===v&&e.model===N}))}function Se(){if(0===t.length||""===v||""===N||""===C)return 0;var e=Ne();return"urban"===C?e.consumptionCityCold:"combined"===C?e.consumptionCombCold:e.consumptionHighwayCold}return Object(se.jsxs)("div",{className:"Add",children:[Object(se.jsx)("div",{className:"title",children:"SmartSwitch"}),Object(se.jsxs)("div",{className:"menu-bar-add",children:[Object(se.jsx)("div",{className:"go-back",children:Object(se.jsx)(m.a,{onClick:function(){return e.push("/home")},children:Object(se.jsx)(de.a,{})})}),Object(se.jsx)("div",{className:"utility",children:Object(se.jsx)(m.a,{onClick:function t(){var n=K.split("T");fetch("http://35.224.217.59:3001/modify",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({username:sessionStorage.getItem("user"),vehicle:{id:a.id,name:o,modelID:Ne().id,departure:"".concat(n[0]," ").concat(n[1],":00"),distance:_,route:C,portID:B,startingSoc:te,ranking:Y}})}).then((function(e){return e.json()})).then((function(a){a.success?e.push("/home"):a.invalidToken?ce().then((function(e){if(!e.success)throw"";sessionStorage.setItem("token",e.token),t()})).catch((function(t){e.push("/")})):W(!0)})).catch((function(e){W(!0)}))},disabled:""===o||!o.match(d.rule)||""===v||""===N||""===C||!B&&0!==B||!Y&&0!==Y||pe||be,children:Object(se.jsx)(he.a,{})})})]}),Object(se.jsxs)("div",{className:"inputfield",children:[Object(se.jsxs)("div",{className:"input name",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(T.a,{})}),Object(se.jsx)(O.a,{className:"textfield-name inputAll",label:"Name",variant:"outlined",value:o,onChange:function(e){return b(e.target.value)},inputProps:{maxLength:d.limit},helperText:d.text,error:!o.match(d.rule)})]}),Object(se.jsxs)("div",{className:"input",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(P.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"brand",children:[Object(se.jsx)(le.a,{id:"select-brand-label",children:"Brand"}),Object(se.jsx)(oe.a,{label:"brand",value:v,onChange:function(e){p(e.target.value),S("")},className:"select-brand inputAll",labelId:"Brand",children:c.map((function(e){return Object(se.jsx)(je.a,{value:e,children:e})}))})]})]}),Object(se.jsxs)("div",{className:"input",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(P.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"model",disabled:""===v,children:[Object(se.jsx)(le.a,{id:"select-model-label",children:"Model"}),Object(se.jsx)(oe.a,{label:"model",value:N,onChange:function(e){return S(e.target.value)},className:"select-model inputAll",labelId:"Model",children:t.filter((function(e){return e.brand===v})).map((function(e){return Object(se.jsx)(je.a,{value:e.model,children:e.model})}))})]})]}),Object(se.jsxs)("div",{className:"input",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(J.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"route",children:[Object(se.jsx)(le.a,{id:"select-model-label",children:"Route"}),Object(se.jsx)(oe.a,{label:"route",value:C,onChange:function(e){return k(e.target.value)},className:"select-model inputAll",labelId:"Route",children:u.map((function(e){return Object(se.jsx)(je.a,{value:e,children:e})}))})]})]}),Object(se.jsxs)("div",{className:"input distance",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(z.a,{})}),Object(se.jsx)(O.a,{className:"textfield-distance inputAll",label:"Distance (KM)",variant:"outlined",type:"number",disabled:""===v||""===N||""===C,onChange:function(e){return function(e){var t=e.target.value;if(null===t.match(/^[1-9][0-9]*$/))fe(!0),L(t);else{fe(!1);var a=parseInt(e.target.value,10);L(Math.min(a,Se()))}}(e)},value:_,error:pe,helperText:""===v||""===N||""===C?"Please select vehicle info first":"Maximum: "+Se()+"KM"})]}),Object(se.jsxs)("div",{className:"input port",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(D.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"port",children:[Object(se.jsx)(le.a,{id:"select-port-label",children:"Port"}),Object(se.jsxs)(oe.a,{label:"port",value:B,onChange:function(e){return q(e.target.value)},className:"select-port inputAll",labelId:"Port",children:[Object(se.jsx)(je.a,{value:0,children:"0"}),Object(se.jsx)(je.a,{value:1,children:"1"}),Object(se.jsx)(je.a,{value:2,children:"2"}),Object(se.jsx)(je.a,{value:3,children:"3"})]})]})]}),Object(se.jsxs)("div",{className:"input importance",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(ne.a,{})}),Object(se.jsxs)(re.a,{variant:"outlined",className:"importance",children:[Object(se.jsx)(le.a,{id:"select-importance-label",children:"Importance"}),Object(se.jsxs)(oe.a,{label:"importance",value:Y,onChange:function(e){return Q(e.target.value)},className:"select-importance inputAll",labelId:"Importance",children:[Object(se.jsx)(je.a,{value:0,children:"0 (High)"}),Object(se.jsx)(je.a,{value:1,children:"1"}),Object(se.jsx)(je.a,{value:2,children:"2"}),Object(se.jsx)(je.a,{value:3,children:"3 (Low)"})]})]})]}),Object(se.jsxs)("div",{className:"input startingSoc",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Z.a,{})}),Object(se.jsx)(O.a,{className:"textfield-startingSoc inputAll",label:"Starting Soc",variant:"outlined",type:"number",error:be,onChange:function(e){return function(e){if(null===e.match(/^[1-9][0-9]*$/))me(!0),ae(e);else{me(!1);var t=parseInt(e,10);ae(Math.min(t,100))}}(e.target.value)},value:te,helperText:"Maximum: 100%"})]}),Object(se.jsxs)("div",{className:"input date",children:[Object(se.jsx)("div",{className:"icon",children:Object(se.jsx)(Oe.a,{})}),Object(se.jsx)(O.a,{className:"textfield-time inputAll",label:"Time of Travel",variant:"outlined",type:"datetime-local",defaultValue:K,inputProps:{min:ge(null,null,!0)},onChange:function(e){return R(e.target.value)}})]})]})]})}));var Ie=Object(l.h)((function(e){var t=e.history;return Object(n.useEffect)((function(){var e=t.listen((function(){document.querySelector("#root").scrollTo(0,0)}));return function(){e()}}),[]),null})),Te=function(e){var t=!0;return sessionStorage.getItem("token")||(t=!1,sessionStorage.clear()),t?Object(se.jsx)(l.b,Object(r.a)({},e)):Object(se.jsx)(l.a,{to:{pathname:"/"}})};function Ae(){return Object(se.jsxs)(o.a,{children:[Object(se.jsx)(Ie,{}),Object(se.jsxs)(l.d,{children:[Object(se.jsx)(Te,{path:"/user",component:Se}),Object(se.jsx)(Te,{path:"/add",component:xe}),Object(se.jsx)(Te,{path:"/home",component:ie}),Object(se.jsx)(Te,{path:"/modify",component:ke}),Object(se.jsx)(l.b,{path:"/register",component:Ce}),Object(se.jsx)(l.b,{path:"/",component:fe})]})]})}i.a.render(Object(se.jsx)(c.a.StrictMode,{children:Object(se.jsx)(Ae,{})}),document.getElementById("root"))},80:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.19c91218.chunk.js.map