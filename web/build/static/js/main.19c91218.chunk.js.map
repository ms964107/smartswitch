{"version":3,"sources":["const/const.js","components/jwt.js","const/api.js","pages/home.js","pages/add.js","assests/logo.jpeg","pages/login.js","pages/user.js","pages/register.js","pages/modify.js","components/scrollToTop.js","App.js","index.js"],"names":["routes","validation","refreshToken","fetch","API_URL","method","headers","body","JSON","stringify","username","sessionStorage","getItem","then","response","json","withRouter","list","useState","search","setSearch","setLocation","locationCode","setLocationCode","setEco","getTime","time","setTime","refetch","setRefetch","carList","setCarList","modelList","setModelList","setLocations","setError","history","useHistory","departureDecode","departure","departureTime","Date","setMinutes","getMinutes","getTimezoneOffset","toLocaleDateString","month","day","hour","minute","year","getBatteryIcon","car","isCharging","soc","getChargingStatus","status","isDoneCharging","className","getBrandAndModel","length","target","find","x","id","modelID","brand","model","handleDeleteOnClick","vehicleID","portID","data","success","invalidToken","setItem","token","catch","error","push","useEffect","vehicleList","console","log","target_location","type","value","target_eco","setInterval","split","TextField","label","onChange","event","InputProps","startAdornment","InputAdornment","position","maxLength","limit","IconButton","onClick","pathname","state","filter","requirement","toLowerCase","brandAndModel","name","includes","map","index","distance","route","ranking","vehicle","handleModifyOnClick","setName","setBrand","setModel","setRoute","setDistance","port","setPort","setDeparture","importance","setImportance","startingSoc","setStartingSoc","startingSocError","setStartingSocError","distanceError","setDistanceError","location","brands","Array","from","Set","date","getFullYear","getMonth","_date","getDate","getHours","findVehicleModel","maxDistance","consumptionCityCold","consumptionCombCold","consumptionHighwayCold","handleSaveOnClick","timestamp","disabled","match","rule","variant","inputProps","helperText","text","FormControl","InputLabel","Select","labelId","MenuItem","val","parseInt","Math","min","handleDistanceOnChange","s","handleStartingSOCOnChange","defaultValue","password","setPassword","account","setAccount","clear","src","logo","Button","ok","pass","setPass","newPass","setNewPass","newDulPass","setDulPass","old_password","new_password","required","email","setEmail","user","setUser","currentModel","decode","reset","originalDeparture","unlisten","listen","document","querySelector","scrollTo","PrivateRoute","props","isAuthenticated","to","App","path","component","User","Add","Home","Modify","Register","Login","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19c91218.chunk.js","sourcesContent":["export const totalPort = 4\n\nexport const locations = [\"Waterloo\", \"Toronto\"]\n\nexport const routes = [\"highway\", \"urban\", \"combined\"]\n\nexport const validation = {\n\t\"name\": {\n\t\t\"limit\": 15,\n\t\t\"rule\": /^[a-zA-Z0-9]*$/,\n\t\t\"text\": \"Up to 15 Letters and Numbers\",\n\t},\n\t\"email\": {\n\t\t\"rule\": /[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[a-zA-Z0-9]+/,\n\t\t\"text\": \"Must be a valid email\",\t\n\t},\n\t\"password\": {\n\t\t\"limit\": 20,\n\t\t\"text\": \"Up to 20 Any Characters\",\n\t}\n}","import { refreshToken as refreshTokenAPI } from '../const/api';\n\nexport const refreshToken = function() {\n\treturn fetch(refreshTokenAPI, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\trefreshToken: sessionStorage.getItem('refreshToken'),\n\t\t})\n\t}).then(response => response.json())\n}","const url_local = \"http://localhost\"\nconst url_remote = \"http://35.224.217.59\"\n\nconst port = 3001\n\nconst API_URL = url_remote + \":\" + port\n\nexport const register = API_URL + \"/register\"\nexport const login = API_URL + \"/login\"\nexport const changePassword = API_URL + \"/changePassword\"\nexport const modelList = API_URL + \"/models\"\nexport const addVehicle = API_URL + \"/add\"\nexport const modifyVehicle = API_URL + \"/modify\"\nexport const deleteVehicle = API_URL + \"/delete\"\nexport const vehicleList = API_URL + \"/vehicles\"\nexport const refreshToken = API_URL + \"/token\"\nexport const locationList = API_URL + \"/location\"\nexport const config = API_URL + \"/config\"\nexport const configInfo = API_URL + \"/configInfo\"\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport { validation } from '../const/const'\nimport './home.css';\n\nimport {\n\tTextField,\n\tIconButton,\n\tInputAdornment,\n\tSelect,\n\tMenuItem,\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport PersonIcon from '@material-ui/icons/Person';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EcoIcon from '@material-ui/icons/Eco';\nimport FaceIcon from '@material-ui/icons/Face';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport EvStationIcon from '@material-ui/icons/EvStation';\nimport DepartureBoardIcon from '@material-ui/icons/DepartureBoard';\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport Battery30Icon from '@material-ui/icons/Battery30';\nimport Battery50Icon from '@material-ui/icons/Battery50';\nimport Battery80Icon from '@material-ui/icons/Battery80';\nimport BatteryFullIcon from '@material-ui/icons/BatteryFull';\nimport BatteryCharging30Icon from '@material-ui/icons/BatteryCharging30';\nimport BatteryCharging50Icon from '@material-ui/icons/BatteryCharging50';\nimport BatteryCharging80Icon from '@material-ui/icons/BatteryCharging80';\nimport BatteryChargingFullIcon from '@material-ui/icons/BatteryChargingFull';\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\n\nimport {\n\tvehicleList as vehicleListAPI,\n\tdeleteVehicle as deleteVehicleAPI,\n\tlocationList as locationListAPI,\n\tconfig as configAPI,\n\tconfigInfo as configInfoAPI\n} from '../const/api';\nimport { refreshToken } from '../components/jwt';\n\nfunction Home() {\n\tconst [search, setSearch] = useState('')\n\tconst [location, setLocation] = useState(\"Waterloo\")\n\tconst [locationCode, setLocationCode] = useState(0)\n\tconst [eco, setEco] = useState(false)\n\tconst [time, setTime] = useState(getTime());\n\tconst [refetch, setRefetch] = useState(false)\n\tconst [carList, setCarList] = useState([])\n\tconst [modelList, setModelList] = useState([])\n\tconst [locations, setLocations] = useState([])\n\tconst [error, setError] = useState(false)\n\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tfetch(vehicleListAPI, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t}\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tsetCarList(data.data.vehicleList)\n\t\t\t\tsetModelList(data.data.modelList)\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\tsetRefetch(!refetch)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}, [refetch]);\n\n\tuseEffect(() => {\n\t\tfetch(locationListAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tsetLocations(data.data)\n\t\t\t\tsetLocation(data.data.find(x => x.id === locationCode))\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\tsetRefetch(!refetch)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error)\n\t\t\tsetError(true)\n\t\t});\n\t}, [refetch]);\n\n\tuseEffect(() => {\n\t\tfetch(configInfoAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tlet target_location = data.data.find(x => x.type === \"location\")\n\t\t\t\tsetLocationCode(target_location.value)\n\t\t\t\tlet target_eco = data.data.find(x => x.type === \"eco\")\n\t\t\t\tsetEco(target_eco.value === 0 ? false : true)\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\tsetRefetch(!refetch)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}, [refetch]);\n\n\tfunction handleEcoOnClick() {\n\t\tfetch(configAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t\ttype: \"ECO\",\n\t\t\t\tvalue: eco ? 0 : 1\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tsetEco(!eco)\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\thandleEcoOnClick()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\tfunction handleLocationOnClick(event) {\n\t\tfetch(configAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t\ttype: \"Location\",\n\t\t\t\tvalue: event\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tsetLocationCode(event)\n\t\t\t\tsetLocation(locations.find(x => x.id === event).name)\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\thandleEcoOnClick()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\tfunction departureDecode(departure) {\n\t\tconst options = {\n\t\t\tmonth: \"long\",\n\t\t\tday: \"numeric\",\n\t\t\thour: \"numeric\",\n\t\t\tminute: \"numeric\",\n\t\t};\n\t\tlet departureTime = new Date(departure)\n\t\tdepartureTime = new Date(departureTime.setMinutes(departureTime.getMinutes() + new Date().getTimezoneOffset()))\n\t\treturn new Date() >= departureTime ? \"N/A\" : departureTime.toLocaleDateString(\"en-US\", options)\n\t}\n\n\t// get current time\n\tfunction getTime() {\n\t\tconst options = {\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"numeric\",\n\t\t\tday: \"numeric\",\n\t\t\thour: \"numeric\",\n\t\t\tminute: \"numeric\",\n\t\t};\n\t\treturn new Date().toLocaleDateString(\"en-US\", options);\n\t}\n\n\tfunction clock() {\n\t\tsetInterval(() => {\n\t\t\tsetTime(getTime());\n\t\t}, 60000);\n\t\tconst temp = time.split(\",\")\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{time}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction getBatteryIcon(car) {\n\t\tif (car.isCharging) {\n\t\t\tif (car.soc === 100) {\n\t\t\t\treturn <BatteryChargingFullIcon/>\n\t\t\t} else if (car.soc >= 80) {\n\t\t\t\treturn <BatteryCharging80Icon/>\n\t\t\t} else if (car.soc >= 50) {\n\t\t\t\treturn <BatteryCharging50Icon/>\n\t\t\t} else {\n\t\t\t\treturn <BatteryCharging30Icon/>\n\t\t\t}\n\t\t} else {\n\t\t\tif (car.soc === 100) {\n\t\t\t\treturn <BatteryFullIcon/>\n\t\t\t} else if (car.soc >= 80) {\n\t\t\t\treturn <Battery80Icon/>\n\t\t\t} else if (car.soc >= 50) {\n\t\t\t\treturn <Battery50Icon/>\n\t\t\t} else {\n\t\t\t\treturn <Battery30Icon/>\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getChargingStatus(car) {\n\t\tlet status = \"\";\n\t\t// if (!car.isTravelling) {\n\t\t// \tif (!car.isCharging && car.targetSoc > car.soc) {\n\t\t// \t\tstatus = \"waiting\"\n\t\t// \t} else if (car.targetSoc <= car.soc) {\n\t\t// \t\tstatus = \"charged\"\n\t\t// \t} else {\n\t\t// \t\tstatus = \"charging\"\n\t\t// \t}\n\t\t// }\n\n\t\tif (car.isDoneCharging) {\n\t\t\tstatus = \"charged\"\n\t\t}\n\n\t\tlet soc = car.soc + \"%\";\n\t\tif (!car.soc && car.soc !== 0) {\n\t\t\tsoc = \"N/A\"\n\t\t\tstatus = \"\"\n\t\t}\n\n\t\treturn (\n\t\t\t<div className = {\"vehicle_text soc \" + status}>\n\t\t\t\t{soc}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction getBrandAndModel(car) {\n\t\tif (modelList.length === 0) {\n\t\t\treturn \"\"\n\t\t}\n\t\tconst target = modelList.find(x => x.id === car.modelID)\n\t\treturn target.brand + \" \" + target.model\n\t}\n\n\t// Search function filters the car\n\tfunction searchFilter(list) {\n\t\treturn list.filter(car => {\n\t\t\tlet requirement = search.toLowerCase()\n\t\t\tlet brandAndModel = getBrandAndModel(car)\n\t\t\treturn car.name.toLowerCase().includes(requirement) ||\n\t\t\t\tbrandAndModel.toLowerCase().includes(requirement)\n\t\t})\n\t}\n\n\tfunction handleModifyOnClick(car) {\n\t\thistory.push({ \n\t\t\tpathname: '/modify',\n\t\t\tstate: { vehicle: car, modelList: modelList }\n\t\t})\n\t}\n\n\tfunction handleDeleteOnClick(car) {\n\t\tfetch(deleteVehicleAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t\tvehicleID: car.id,\n\t\t\t\tportID: car.portID\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tsetRefetch(!refetch)\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\thandleDeleteOnClick()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\t// render the list of user vehicles\n\tfunction renderLists() {\n\t\tconst list = searchFilter(carList)\n\t\treturn list.map((car, index) => {\n\t\t\treturn (\n\t\t\t\t<div className={\"vehicle_ \" + index} key={index}>\n\t\t\t\t\t<div className=\"vehicle_name_soc vehicle_entry\">\n\t\t\t\t\t\t<div className=\"vehicle_name\">\n\t\t\t\t\t\t\t<FaceIcon/>\n\t\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\t\t{car.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<EvStationIcon/>\n\t\t\t\t\t\t\t<div className = {\"vehicle_text soc portID\"}>\n\t\t\t\t\t\t\t\t{!car.portID && car.portID !== 0 ? \"N/A\" : car.portID}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{getBatteryIcon(car)}\n\t\t\t\t\t\t\t{getChargingStatus(car)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"vehicle_brand vehicle_entry\">\n\t\t\t\t\t\t<DirectionsCarIcon/>\n\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\t{getBrandAndModel(car)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"vehicle_detail vehicle_entry\">\n\t\t\t\t\t\t<DepartureBoardIcon/>\n\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\t{\"Departure: \" + departureDecode(car.departure)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"vehicle_detail vehicle_entry\">\n\t\t\t\t\t\t<FormatAlignJustifyIcon/>\n\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\t{\"Distance: \" + car.distance + \" KM\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"vehicle_detail vehicle_entry\">\n\t\t\t\t\t\t<TimelineIcon/>\n\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\t{\"Route: \" + car.route}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"vehicle_detail vehicle_entry\">\n\t\t\t\t\t\t<PriorityHighIcon/>\n\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\t{\"Importance: \" + (car.ranking < 4 && car.ranking >= 0 && car.ranking !== null ? car.ranking : \"N/A\")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* <div className=\"vehicle_charging vehicle_entry\">\n\t\t\t\t\t\t<TimerIcon/>\n\t\t\t\t\t\t<div className=\"vehicle_text\">\n\t\t\t\t\t\t\tCharge Time Remaining: 10:25\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> */}\n\t\t\t\t\t<div className=\"vehicle_actions\">\n\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t<CreateIcon onClick={() => handleModifyOnClick(car)}/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t<DeleteIcon onClick={() => handleDeleteOnClick(car)}/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"Home\">\n\t\t\t<div className=\"title\">\n\t\t\t\tSmartSwitch\n\t\t\t</div>\n\t\t\t<div className='time'>\n\t\t\t\t{clock()}\n\t\t\t</div>\n\t\t\t<div className=\"utility-home\">\n\t\t\t\t{/* <div className=\"location\">\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={locationCode}\n\t\t\t\t\t\tonChange={(event) => handleLocationOnClick(event.target.value)}\n\t\t\t\t\t\tclassName=\"location-select\"\n\t\t\t\t\t\tlabelId=\"Location\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t<SearchIcon/>\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{locations.map(x => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MenuItem value={x.id}>{x.name}</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t</div> */}\n\t\t\t\t{/* <div className=\"eco-setting\">\n\t\t\t\t\t<IconButton \n\t\t\t\t\t\tonClick={handleEcoOnClick}\n\t\t\t\t\t\tclassName={eco ? \"eco-setting-green\" : \"eco-setting-none\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t<EcoIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"search_time\">\n\t\t\t\t\t<div className=\"search\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tclassName=\"vehicle-search\"\n\t\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\t\tonChange={(event) => setSearch(event.target.value)}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t<SearchIcon/>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tmaxLength: validation.name.limit\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"user-info\">\n\t\t\t\t\t<IconButton onClick={() => history.push('/user')}>\n\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"add-vehicle\">\n\t\t\t\t\t<IconButton onClick={() => {history.push({ \n\t\t\t\t\t\tpathname: '/add',\n\t\t\t\t\t\tstate: modelList\n\t\t\t\t\t})}}>\n\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"lists\">\n\t\t\t\t<div className=\"vehicle_ list_label\"></div>\n\t\t\t\t{renderLists()}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Home);\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport { validation, totalPort, routes } from '../const/const'\nimport './add.css';\n\nimport {\n\tTextField,\n\tIconButton,\n\tInputAdornment,\n\tSelect,\n\tMenuItem,\n\tInputLabel,\n\tFormControl\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport PersonIcon from '@material-ui/icons/Person';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SaveIcon from '@material-ui/icons/Save';\nimport RoomIcon from '@material-ui/icons/Room';\nimport FaceIcon from '@material-ui/icons/Face';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport DepartureBoardIcon from '@material-ui/icons/DepartureBoard';\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport EvStationIcon from '@material-ui/icons/EvStation';\nimport EventIcon from '@material-ui/icons/Event';\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\nimport BatteryFullIcon from '@material-ui/icons/BatteryFull';\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport { addVehicle as addVehicleAPI } from '../const/api';\nimport { refreshToken } from '../components/jwt';\n\nfunction Add() {\n\tconst [name, setName] = useState('')\n\tconst [brand, setBrand] = useState('')\n\tconst [model, setModel] = useState('')\n\tconst [route, setRoute] = useState('')\n\tconst [distance, setDistance] = useState(1)\n\tconst [port, setPort] = useState(0)\n\tconst [departure, setDeparture] = useState(getTime());\n\tconst [error, setError] = useState(false)\n\tconst [refetch, setRefetch] = useState(false)\n\tconst [importance, setImportance] = useState(0)\n\tconst [startingSoc, setStartingSoc] = useState(1)\n\tconst [startingSocError, setStartingSocError] = useState(false)\n\tconst [distanceError, setDistanceError] = useState(false)\n\n\tconst history = useHistory();\n\tconst modelList = history.location.state\n\tconst brands = Array.from(new Set(modelList.map(x => x.brand)))\n\n\t// get current time\n\tfunction getTime() {\n\t\tconst date = new Date()\n\t\tconst year = date.getFullYear()\n\t\tlet month = date.getMonth() + 1\n\t\tmonth = month < 10 ? `0${month}` : month\n\t\tlet _date = date.getDate()\n\t\t_date = _date < 10 ? `0${_date}` : _date\n\t\tlet hour = date.getHours() + 1\n\t\thour = hour < 10 ? `0${hour}` : hour\n\t\tlet minute = date.getMinutes()\n\t\tminute = minute < 10 ? `0${minute}` : minute\n\t\t\n\t\treturn `${year}-${month}-${_date}T${hour}:${minute}`\n\t}\n\n\tfunction handleDistanceOnChange(event) {\n\t\tlet val = event.target.value\n\t\tif (val.match(/^[1-9][0-9]*$/) === null) {\n\t\t\tsetDistanceError(true)\n\t\t\tsetDistance(val)\n\t\t} else {\n\t\t\tsetDistanceError(false)\n\t\t\tconst distance = parseInt(event.target.value, 10)\n\t\t\tsetDistance(Math.min(distance, maxDistance()))\n\t\t}\n\t}\n\n\tfunction handleStartingSOCOnChange(soc) {\n\t\tif (soc.match(/^[1-9][0-9]*$/) === null) {\n\t\t\tsetStartingSocError(true)\n\t\t\tsetStartingSoc(soc)\n\t\t} else {\n\t\t\tsetStartingSocError(false)\n\t\t\tconst s = parseInt(soc, 10)\n\t\t\tsetStartingSoc(Math.min(s, 100))\n\t\t}\n\t}\n\n\tfunction handleSaveOnClick() {\n\t\tconst timestamp = departure.split(\"T\")\n\t\tfetch(addVehicleAPI, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t\tvehicle: {\n\t\t\t\t\tname: name,\n\t\t\t\t\tmodelID: findVehicleModel().id,\n\t\t\t\t\tdeparture: `${timestamp[0]} ${timestamp[1]}:00`,\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\troute: route,\n\t\t\t\t\tportID: port,\n\t\t\t\t\tstartingSoc: startingSoc,\n\t\t\t\t\tranking: importance\n\t\t\t\t}\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\thistory.push('/home')\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\thandleSaveOnClick()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\tfunction findVehicleModel() {\n\t\treturn modelList.find(x => x.brand === brand && x.model === model);\n\t}\n\n\tfunction maxDistance() {\n\t\tif (modelList.length === 0 || brand === '' || model === '' || route === '') {\n\t\t\treturn 0\n\t\t}\n\t\tconst vehicle = findVehicleModel();\n\t\tif (route === 'urban') {\n\t\t\treturn vehicle.consumptionCityCold\n\t\t} else if (route === 'combined') {\n\t\t\treturn vehicle.consumptionCombCold\n\t\t} else {\n\t\t\treturn vehicle.consumptionHighwayCold\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"Add\">\n\t\t\t<div className=\"title\">\n\t\t\t\tSmartSwitch\n\t\t\t</div>\n\t\t\t<div className=\"menu-bar-add\">\n\t\t\t\t<div className=\"go-back\">\n\t\t\t\t\t<IconButton onClick={() => history.push('/home')}>\n\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"utility\">\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tonClick={handleSaveOnClick}\n\t\t\t\t\t\tdisabled={name === \"\"\n\t\t\t\t\t\t\t|| !name.match(validation.name.rule)\n\t\t\t\t\t\t\t|| brand === \"\"\n\t\t\t\t\t\t\t|| model === \"\"\n\t\t\t\t\t\t\t|| route === \"\"\n\t\t\t\t\t\t\t|| distanceError\n\t\t\t\t\t\t\t|| startingSocError\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SaveIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"inputfield\">\n\t\t\t\t<div className=\"input name\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<FaceIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-name inputAll\"\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.name.limit }}\n\t\t\t\t\t\thelperText={validation.name.text}\n\t\t\t\t\t\terror={!name.match(validation.name.rule)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<DirectionsCarIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"brand\">\n\t\t\t\t\t\t<InputLabel id=\"select-brand-label\">Brand</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"brand\"\n\t\t\t\t\t\t\tvalue={brand}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tsetBrand(event.target.value)\n\t\t\t\t\t\t\t\tsetModel('')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"select-brand inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Brand\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{brands.map(x => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem value={x}>{x}</MenuItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<DirectionsCarIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"model\" disabled={brand === ''}>\n\t\t\t\t\t\t<InputLabel id=\"select-model-label\">Model</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"model\"\n\t\t\t\t\t\t\tvalue={model}\n\t\t\t\t\t\t\tonChange={(event) => setModel(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-model inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Model\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{modelList.filter(x => x.brand === brand).map(x => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem value={x.model}>{x.model}</MenuItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<TimelineIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"route\">\n\t\t\t\t\t\t<InputLabel id=\"select-model-label\">Route</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"route\"\n\t\t\t\t\t\t\tvalue={route}\n\t\t\t\t\t\t\tonChange={(event) => setRoute(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-model inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Route\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{routes.map(x => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem value={x}>{x}</MenuItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input distance\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<FormatAlignJustifyIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-distance inputAll\"\n\t\t\t\t\t\tlabel=\"Distance (KM)\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tdisabled={brand === '' || model === '' || route === ''}\n\t\t\t\t\t\tonChange={(event) => handleDistanceOnChange(event)}\n\t\t\t\t\t\terror={distanceError}\n\t\t\t\t\t\tvalue={distance}\n\t\t\t\t\t\thelperText={brand === '' || model === '' || route === '' ? \"Please select vehicle info first\" : \"Maximum: \" + maxDistance() + \"KM\"}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input port\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<EvStationIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"port\">\n\t\t\t\t\t\t<InputLabel id=\"select-port-label\">Port</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"port\"\n\t\t\t\t\t\t\tvalue={port}\n\t\t\t\t\t\t\tonChange={(event) => setPort(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-port inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Port\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={0}>0</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={1}>1</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={2}>2</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={3}>3</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input importance\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<PriorityHighIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"importance\">\n\t\t\t\t\t\t<InputLabel id=\"select-importance-label\">Importance</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"importance\"\n\t\t\t\t\t\t\tvalue={importance}\n\t\t\t\t\t\t\tonChange={(event) => setImportance(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-importance inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Importance\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={0}>0 (High)</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={1}>1</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={2}>2</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={3}>3 (Low)</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input startingSoc\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<BatteryFullIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-startingSoc inputAll\"\n\t\t\t\t\t\tlabel=\"Starting Soc\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\terror={startingSocError}\n\t\t\t\t\t\tonChange={(event) => handleStartingSOCOnChange(event.target.value)}\n\t\t\t\t\t\tvalue={startingSoc}\n\t\t\t\t\t\thelperText=\"Maximum: 100%\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input date\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<EventIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-time inputAll\"\n\t\t\t\t\t\tlabel=\"Time of Travel\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\tdefaultValue={departure}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tmin: getTime()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(event) => setDeparture(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Add);\n","export default __webpack_public_path__ + \"static/media/logo.841f8bbf.jpeg\";","import React, { useState, useEffect } from 'react';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport './login.css';\n\nimport { TextField, Button } from '@material-ui/core';\n\nimport { login as loginAPI } from '../const/api';\nimport { validation } from '../const/const';\nimport logo from '../assests/logo.jpeg'\n\nfunction Login() {\n\tconst [password, setPassword] = useState('')\n\tconst [account, setAccount] = useState('')\n\tconst [error, setError] = useState(false)\n\n\tconst history = useHistory();\n\n\tsessionStorage.clear()\n\n\tfunction handleAccountOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetAccount(val)\n\t}\n\n\tfunction handlePasswordOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetPassword(val)\n\t}\n\n\tfunction handleLogin() {\n\t\tfetch(loginAPI, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: account,\n\t\t\t\tpassword: password,\n\t\t\t})\n\t\t}).then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow \"\"\n\t\t\t} else {\n\t\t\t\treturn response.json()\n\t\t\t}\n\t\t})\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\tsessionStorage.setItem('user', data.username)\n\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\tsessionStorage.setItem('refreshToken', data.refreshToken)\n\t\t\t\thistory.push('/home')\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t})\n\t}\n\n\tfunction handleRegister() {\n\t\thistory.push('/register')\n\t}\n\n\treturn (\n\t\t<div className=\"Login\">\n\t\t\t<div className=\"logo-wrapper\">\n\t\t\t\t<img src={logo} className=\"logo\"/>\n\t\t\t</div>\n\t\t\t<div className=\"login_title\">\n\t\t\t\tSmartSwitch\n\t\t\t</div>\n\t\t\t<div className=\"headline\">\n\t\t\t\tA global-leading technology for smart vehicle charging\n\t\t\t</div>\n\t\t\t<div className=\"inputfield-login\">\n\t\t\t\t<div className=\"input-login account\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-account inputAll-login\"\n\t\t\t\t\t\tlabel=\"User Name\"\n\t\t\t\t\t\tonChange={(event) => handleAccountOnChange(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.name.limit }}\n\t\t\t\t\t\terror={error}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-login password\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-password inputAll-login\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\tonChange={(event) => handlePasswordOnChange(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.password.limit }}\n\t\t\t\t\t\terror={error}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"login-button-wrapper\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleLogin}\n\t\t\t\t\t\tdisabled={password.length === 0\n\t\t\t\t\t\t\t|| !account.match(validation.name.rule)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={(password.length === 0\n\t\t\t\t\t\t\t|| !account.match(validation.name.rule)\n\t\t\t\t\t\t\t) ? \"login-button\" : \"login-button background-color-button\"}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"register-wrapper\">\n\t\t\t\t\t<div className=\"no-account\">\n\t\t\t\t\t\tDon't have an account?\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"register-button-wrapper\">\n\t\t\t\t\t\t<Button variant=\"contained\" onClick={handleRegister}>\n\t\t\t\t\t\t\tSIGN UP\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Login);\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport './user.css';\n\nimport {\n\tTextField,\n\tIconButton,\n} from '@material-ui/core';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SaveIcon from '@material-ui/icons/Save';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\n\nimport { validation } from '../const/const';\nimport { changePassword as changePasswordAPI } from '../const/api';\nimport { refreshToken } from '../components/jwt';\n\nfunction User() {\n\tconst [pass, setPass] = useState('')\n\tconst [newPass, setNewPass] = useState('')\n\tconst [newDulPass, setDulPass] = useState('')\n\tconst [error, setError] = useState(false)\n\n\tconst history = useHistory();\n\n\tfunction handleSaveOnClick() {\n\t\tfetch(changePasswordAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t\told_password: pass,\n\t\t\t\tnew_password: newPass\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\thistory.push('/home')\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\thandleSaveOnClick()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthrow \"\"\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\tfunction handlePassOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetPass(val)\n\t}\n\n\tfunction handleNewPassOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetNewPass(val)\n\t}\n\n\tfunction handleDulPassOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetDulPass(val)\n\t}\n\n\treturn (\n\t\t<div className=\"Add\">\n\t\t\t<div className=\"title\">\n\t\t\t\tSmartSwitch\n\t\t\t</div>\n\t\t\t<div className=\"menu-bar-add\">\n\t\t\t\t<div className=\"go-back\">\n\t\t\t\t\t<IconButton onClick={() => history.push('/home')}>\n\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"utility\">\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tonClick={handleSaveOnClick}\n\t\t\t\t\t\tdisabled={newPass !== newDulPass\n\t\t\t\t\t\t\t|| newPass.length === 0\n\t\t\t\t\t\t\t|| pass.length === 0\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SaveIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"inputfield\">\n\t\t\t\t<div className=\"input_user user\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-user inputAll\"\n\t\t\t\t\t\tdefaultValue={sessionStorage.getItem('user')}\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user password\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<LockOpenIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-password inputAll\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"Current Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(event) => handlePassOnChange(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.password.limit }}\n\t\t\t\t\t\thelperText={validation.password.text}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user new-password\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<LockOpenIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-new-password inputAll\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"New Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(event) => handleNewPassOnChange(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.password.limit }}\n\t\t\t\t\t\thelperText={validation.password.text}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user new-dulplicate-password\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<LockOpenIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-dul-password inputAll\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\t\trequired\n          \t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={(event) => handleDulPassOnChange(event.target.value)}\n\t\t\t\t\t\terror={newPass !== newDulPass}\n\t\t\t\t\t\thelperText={newPass !== newDulPass ? \"Unmatched Password\" : \"\"}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.password.limit }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user warning\">\n\t\t\t\t\t{error ? \"Something is Wrong, Please Try Again\" : \"\"}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(User);\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport './user.css';\n\nimport {\n\tTextField,\n\tIconButton,\n} from '@material-ui/core';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SaveIcon from '@material-ui/icons/Save';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport MailIcon from '@material-ui/icons/Mail';\n\nimport { register as registerAPI } from '../const/api';\nimport { validation } from '../const/const';\n\nfunction Register() {\n\tconst [email, setEmail] = useState('')\n\tconst [user, setUser] = useState('')\n\tconst [newPass, setNewPass] = useState('')\n\tconst [newDulPass, setDulPass] = useState('')\n\tconst [error, setError] = useState(false)\n\n\tconst history = useHistory();\n\n\tsessionStorage.clear()\n\n\tfunction handleSaveOnClick() {\n\t\tfetch(registerAPI, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: user,\n\t\t\t\tpassword: newPass,\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\thistory.push('/login')\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\tfunction handleUserOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetUser(val)\n\t}\n\n\tfunction handleEmailOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetEmail(val)\n\t}\n\n\tfunction handleNewPassOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetNewPass(val)\n\t}\n\n\tfunction handleDulPassOnChange(val) {\n\t\tif (error) {\n\t\t\tsetError(false)\n\t\t}\n\t\tsetDulPass(val)\n\t}\n\n\treturn (\n\t\t<div className=\"Add\">\n\t\t\t<div className=\"title\">\n\t\t\t\tSmartSwitch\n\t\t\t</div>\n\t\t\t<div className=\"menu-bar-add\">\n\t\t\t\t<div className=\"go-back\">\n\t\t\t\t\t<IconButton onClick={() => history.push('/login')}>\n\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"utility\">\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tonClick={handleSaveOnClick}\n\t\t\t\t\t\tdisabled={newPass !== newDulPass\n\t\t\t\t\t\t\t|| !email.match(validation.email.rule)\n\t\t\t\t\t\t\t|| user === \"\"\n\t\t\t\t\t\t\t|| newPass.length === 0\n\t\t\t\t\t\t\t|| !user.match(validation.name.rule)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SaveIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"inputfield\">\n\t\t\t\t<div className=\"input_user user\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-user inputAll\"\n\t\t\t\t\t\tdefaultValue=\"\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(event) => handleUserOnChange(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.name.limit }}\n\t\t\t\t\t\thelperText={validation.name.text}\n\t\t\t\t\t\terror={!user.match(validation.name.rule)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user password\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<MailIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-password inputAll\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(event) => handleEmailOnChange(event.target.value)}\n\t\t\t\t\t\thelperText={validation.email.text}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user new-password\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<LockOpenIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-new-password inputAll\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"New Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(event) => handleNewPassOnChange(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.password.limit }}\n\t\t\t\t\t\thelperText={validation.password.text}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user new-dulplicate-password\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<LockOpenIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-dul-password inputAll\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\t\trequired\n          \t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={(event) => handleDulPassOnChange(event.target.value)}\n\t\t\t\t\t\terror={newPass !== newDulPass}\n\t\t\t\t\t\thelperText={newPass !== newDulPass ? \"Unmatched Password\" : \"\"}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.password.limit }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input_user warning\">\n\t\t\t\t\t{error ? \"Something is Wrong, Please Try Again\" : \"\"}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Register);\n","import React, { useState, useEffect } from 'react';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport { validation, totalPort, routes } from '../const/const'\nimport './modify.css';\n\nimport {\n\tTextField,\n\tIconButton,\n\tInputAdornment,\n\tSelect,\n\tMenuItem,\n\tInputLabel,\n\tFormControl\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport PersonIcon from '@material-ui/icons/Person';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SaveIcon from '@material-ui/icons/Save';\nimport RoomIcon from '@material-ui/icons/Room';\nimport FaceIcon from '@material-ui/icons/Face';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport DepartureBoardIcon from '@material-ui/icons/DepartureBoard';\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport EvStationIcon from '@material-ui/icons/EvStation';\nimport EventIcon from '@material-ui/icons/Event';\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\nimport BatteryFullIcon from '@material-ui/icons/BatteryFull';\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport { modifyVehicle as modifyVehicleAPI } from '../const/api';\nimport { refreshToken } from '../components/jwt';\n\nfunction Modify() {\n\tconst history = useHistory();\n\tconst modelList = history.location.state.modelList\n\tconst car = history.location.state.vehicle\n\tconst brands = Array.from(new Set(modelList.map(x => x.brand)))\n\tconst currentModel = modelList.find(x => x.id === car.modelID);\n\n\tconst [name, setName] = useState(car.name)\n\tconst [brand, setBrand] = useState(currentModel.brand)\n\tconst [model, setModel] = useState(currentModel.model)\n\tconst [route, setRoute] = useState(car.route)\n\tconst [distance, setDistance] = useState(car.distance)\n\tconst [port, setPort] = useState(car.portID)\n\tconst [departure, setDeparture] = useState(getTime(true, car.departure));\n\tconst [error, setError] = useState(false)\n\tconst [importance, setImportance] = useState(car.ranking)\n\tconst [startingSoc, setStartingSoc] = useState(car.soc)\n\tconst [startingSocError, setStartingSocError] = useState(false)\n\tconst [distanceError, setDistanceError] = useState(false)\n\n\t// get current time\n\tfunction getTime(decode = false, departure = null, reset = false) {\n\t\tlet date = new Date()\n\t\tif (decode) {\n\t\t\tconst originalDeparture = new Date(departure)\n\t\t\tif (originalDeparture < date) {\n\t\t\t\treset = true\n\t\t\t} else {\n\t\t\t\tdate = originalDeparture\n\t\t\t}\n\t\t}\n\t\tconst year = date.getFullYear()\n\t\tlet month = date.getMonth() + 1\n\t\tmonth = month < 10 ? `0${month}` : month\n\t\tlet _date = date.getDate()\n\t\t_date = _date < 10 ? `0${_date}` : _date\n\t\tlet hour = date.getHours() + (reset ? 1 : 0)\n\t\thour = hour < 10 ? `0${hour}` : hour\n\t\tlet minute = date.getMinutes()\n\t\tminute = minute < 10 ? `0${minute}` : minute\n\t\t\n\t\treturn `${year}-${month}-${_date}T${hour}:${minute}`\n\t}\n\n\tfunction handleDistanceOnChange(event) {\n\t\tlet val = event.target.value\n\t\tif (val.match(/^[1-9][0-9]*$/) === null) {\n\t\t\tsetDistanceError(true)\n\t\t\tsetDistance(val)\n\t\t} else {\n\t\t\tsetDistanceError(false)\n\t\t\tconst distance = parseInt(event.target.value, 10)\n\t\t\tsetDistance(Math.min(distance, maxDistance()))\n\t\t}\n\t}\n\n\tfunction handleStartingSOCOnChange(soc) {\n\t\tif (soc.match(/^[1-9][0-9]*$/) === null) {\n\t\t\tsetStartingSocError(true)\n\t\t\tsetStartingSoc(soc)\n\t\t} else {\n\t\t\tsetStartingSocError(false)\n\t\t\tconst s = parseInt(soc, 10)\n\t\t\tsetStartingSoc(Math.min(s, 100))\n\t\t}\n\t}\n\n\tfunction handleSaveOnClick() {\n\t\tconst timestamp = departure.split(\"T\")\n\t\tfetch(modifyVehicleAPI, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: sessionStorage.getItem('user'),\n\t\t\t\tvehicle: {\n\t\t\t\t\tid: car.id,\n\t\t\t\t\tname: name,\n\t\t\t\t\tmodelID: findVehicleModel().id,\n\t\t\t\t\tdeparture: `${timestamp[0]} ${timestamp[1]}:00`,\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\troute: route,\n\t\t\t\t\tportID: port,\n\t\t\t\t\tstartingSoc: startingSoc,\n\t\t\t\t\tranking: importance\n\t\t\t\t}\n\t\t\t})\n\t\t}).then(response => response.json())\n\t\t.then((data) => {\n\t\t\tif (data.success) {\n\t\t\t\thistory.push('/home')\n\t\t\t} else if (data.invalidToken) {\n\t\t\t\trefreshToken().then((data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\thandleSaveOnClick()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"\"\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetError(true)\n\t\t\t}\n\t\t}).catch((error) => {\n\t\t\tsetError(true)\n\t\t});\n\t}\n\n\tfunction findVehicleModel() {\n\t\treturn modelList.find(x => x.brand === brand && x.model === model);\n\t}\n\n\tfunction maxDistance() {\n\t\tif (modelList.length === 0 || brand === '' || model === '' || route === '') {\n\t\t\treturn 0\n\t\t}\n\t\tconst vehicle = findVehicleModel();\n\t\tif (route === 'urban') {\n\t\t\treturn vehicle.consumptionCityCold\n\t\t} else if (route === 'combined') {\n\t\t\treturn vehicle.consumptionCombCold\n\t\t} else {\n\t\t\treturn vehicle.consumptionHighwayCold\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"Add\">\n\t\t\t<div className=\"title\">\n\t\t\t\tSmartSwitch\n\t\t\t</div>\n\t\t\t<div className=\"menu-bar-add\">\n\t\t\t\t<div className=\"go-back\">\n\t\t\t\t\t<IconButton onClick={() => history.push('/home')}>\n\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"utility\">\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tonClick={handleSaveOnClick}\n\t\t\t\t\t\tdisabled={name === \"\"\n\t\t\t\t\t\t\t|| !name.match(validation.name.rule)\n\t\t\t\t\t\t\t|| brand === \"\"\n\t\t\t\t\t\t\t|| model === \"\"\n\t\t\t\t\t\t\t|| route === \"\"\n\t\t\t\t\t\t\t|| (!port && port !== 0)\n\t\t\t\t\t\t\t|| (!importance && importance !== 0)\n\t\t\t\t\t\t\t|| distanceError\n\t\t\t\t\t\t\t|| startingSocError\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SaveIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"inputfield\">\n\t\t\t\t<div className=\"input name\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<FaceIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-name inputAll\"\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t\tinputProps={{ maxLength: validation.name.limit }}\n\t\t\t\t\t\thelperText={validation.name.text}\n\t\t\t\t\t\terror={!name.match(validation.name.rule)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<DirectionsCarIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"brand\">\n\t\t\t\t\t\t<InputLabel id=\"select-brand-label\">Brand</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"brand\"\n\t\t\t\t\t\t\tvalue={brand}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tsetBrand(event.target.value)\n\t\t\t\t\t\t\t\tsetModel('')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"select-brand inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Brand\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{brands.map(x => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem value={x}>{x}</MenuItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<DirectionsCarIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"model\" disabled={brand === ''}>\n\t\t\t\t\t\t<InputLabel id=\"select-model-label\">Model</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"model\"\n\t\t\t\t\t\t\tvalue={model}\n\t\t\t\t\t\t\tonChange={(event) => setModel(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-model inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Model\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{modelList.filter(x => x.brand === brand).map(x => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem value={x.model}>{x.model}</MenuItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<TimelineIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"route\">\n\t\t\t\t\t\t<InputLabel id=\"select-model-label\">Route</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"route\"\n\t\t\t\t\t\t\tvalue={route}\n\t\t\t\t\t\t\tonChange={(event) => setRoute(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-model inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Route\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{routes.map(x => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem value={x}>{x}</MenuItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input distance\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<FormatAlignJustifyIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-distance inputAll\"\n\t\t\t\t\t\tlabel=\"Distance (KM)\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tdisabled={brand === '' || model === '' || route === ''}\n\t\t\t\t\t\tonChange={(event) => handleDistanceOnChange(event)}\n\t\t\t\t\t\tvalue={distance}\n\t\t\t\t\t\terror={distanceError}\n\t\t\t\t\t\thelperText={brand === '' || model === '' || route === '' ? \"Please select vehicle info first\" : \"Maximum: \" + maxDistance() + \"KM\"}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input port\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<EvStationIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"port\">\n\t\t\t\t\t\t<InputLabel id=\"select-port-label\">Port</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"port\"\n\t\t\t\t\t\t\tvalue={port}\n\t\t\t\t\t\t\tonChange={(event) => setPort(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-port inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Port\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={0}>0</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={1}>1</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={2}>2</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={3}>3</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input importance\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<PriorityHighIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl variant=\"outlined\" className=\"importance\">\n\t\t\t\t\t\t<InputLabel id=\"select-importance-label\">Importance</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabel=\"importance\"\n\t\t\t\t\t\t\tvalue={importance}\n\t\t\t\t\t\t\tonChange={(event) => setImportance(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"select-importance inputAll\"\n\t\t\t\t\t\t\tlabelId=\"Importance\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={0}>0 (High)</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={1}>1</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={2}>2</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={3}>3 (Low)</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input startingSoc\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<BatteryFullIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-startingSoc inputAll\"\n\t\t\t\t\t\tlabel=\"Starting Soc\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\terror={startingSocError}\n\t\t\t\t\t\tonChange={(event) => handleStartingSOCOnChange(event.target.value)}\n\t\t\t\t\t\tvalue={startingSoc}\n\t\t\t\t\t\thelperText=\"Maximum: 100%\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input date\">\n\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t<EventIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"textfield-time inputAll\"\n\t\t\t\t\t\tlabel=\"Time of Travel\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\tdefaultValue={departure}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tmin: getTime(null, null, true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(event) => setDeparture(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Modify);\n","import { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollToTop({ history }) {\n\tuseEffect(() => {\n\t\tconst unlisten = history.listen(() => {\n\t\t\tdocument.querySelector('#root').scrollTo(0, 0)\n\t\t});\n\t\treturn () => {\n\t\t\tunlisten();\n\t\t}\n  \t}, []);\n\n  \treturn (null);\n}\n\nexport default withRouter(ScrollToTop);","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport Home from \"./pages/home\"\nimport Add from \"./pages/add\"\nimport Login from \"./pages/login\"\nimport User from \"./pages/user\"\nimport Register from \"./pages/register\"\nimport Modify from \"./pages/modify\"\nimport ScrollToTop from \"./components/scrollToTop\"\n\nconst PrivateRoute = (props) => {\n\tconst token = sessionStorage.getItem('token');\n\tlet isAuthenticated = true\n\tif (!token) {\n\t\tisAuthenticated = false\n\t\tsessionStorage.clear()\n\t}\n\treturn isAuthenticated ? (\n\t  \t<Route {...props} />\n\t) : (\n\t\t<Redirect to={{pathname: \"/\"}}/>\n\t);\n};\n\nexport default function App() {\n\treturn (\n\t  <Router>\n\t\t<ScrollToTop />\n\t\t<Switch>\n\t\t\t<PrivateRoute path=\"/user\" component={User} />\n\t\t\t<PrivateRoute path=\"/add\" component={Add} />\n\t\t\t<PrivateRoute path=\"/home\" component={Home} />\n\t\t\t<PrivateRoute path=\"/modify\" component={Modify} />\n\t\t\t<Route path=\"/register\" component={Register} />\n\t\t\t<Route path=\"/\" component={Login} />\n\t\t</Switch>\n\t  </Router>\n\t);\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}